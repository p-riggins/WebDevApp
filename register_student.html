<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register form</title>
    <!-- <link rel="stylesheet" href="/lib/bootstrap.min.css"> -->
    <link rel="stylesheet" href="/style.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>   
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> 
</head>

<body>
    <div class="form-container">
        <form id="registrationForm">
            <h1>Create Account For Student</h1>
            <br>
            <p class="required-fields">Fields marked with * are required</p>
            <br>

            <div class="input-box">
                <label for="fname" class="form-label">First Name*</label>
                <input type="text" class="form-control" id="fname" aria-label="Input for your First Name" name="first name" placeholder="Enter your First Name*" required>
            </div>

            <div class="input-box">
                <label for="lname" class="form-label">Last Name*</label>
                <input type="text" class="form-control" id="lname" name="last name" aria-label="Input for your Last Name" placeholder="Enter your Last Name*" required>
            </div>

            <div class="input-box">
                <label for="contactdetails" class="form-label">Contact Details</label>
                <input type="text" class="form-control" id="phonenumber" aria-label="Input for your Phone Number" name="Phone Number" placeholder="Enter your Phone Number">
                <input type="text" class="form-control" id="discord" name="discord" aria-label="Input for your Discord username" placeholder="Enter your Discord">
                <input type="text" class="form-control" id="teams" name="teams" aria-label="Input for your Microsoft Teams username" placeholder="Enter your Teams">
            </div>

            <div class="input-box">
                <label for="email" class="form-label">Email*</label>
                <input type="text" class="form-control" id="email" name="Email" aria-label="Input for your Email address" placeholder="Enter your Email*" required>
            </div>

            <div class="input-box">
                <label for="password" class="form-label">Password*</label>
                <input type="password" class="form-control" id="password" aria-label="Input for your Password" placeholder="Enter your Password*" required>
            </div>

            <div class="input-box">
                <label for="confirmPassword" class="form-label">Confirm Password*</label>
                <input type="password" class="form-control" id="confirmPassword" aria-label="Input to confirm your Password" placeholder="Confirm Password*" required>
                <span id="passwordError" class="error"></span>
            </div>

            <label>
                <input type="checkbox" class="show-password" aria-label="Checkbox to show or hide your password fields" onclick="myFunction()">Show Password
            </label>

            <br>
            <button type="button" class="submit-btn" aria-label="Button to create a student account" id="submitBtn">Create</button>
            <div id="result"></div>

            <script>
            $(document).ready(function() {
                $('#submitBtn').click(function(event) {
                    event.preventDefault();
                    $.ajax({
                        url: "http://localhost:80/register",
                        method: "POST",
                        contentType: "application/json",
                        data: JSON.stringify({
                            FirstName: $('#fname').val(),
                            LastName: $('#lname').val(),
                            EmailAddress: $('#email').val(),
                            Username: $('#username').val(),
                            Password: $('#password').val(),
                        }),
                        success: function(response)
                        {
                            $('#result').html('User registered successfully');
                        },
                        error: function(response)
                        {
                            $('#result').html('User registration failed');
                        }
                    });
                });
            });
            </script>

            <div class="register-link">
                <p>Have an account? <a href="index.html">Back to Login</a></p>
            </div>
        </form>
    </div>
    <script src="/register.js"></script>
</body>
</html>
